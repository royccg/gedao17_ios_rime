# Rime schema
# encoding: utf-8

schema:
  schema_id: gedao
  name: æ ¼é“17
  version: "0.1"
  author:
    - Roy <roy.chen.cc@outlook.com>
  description: |
    æ ¼é“17æ–¹æ¡ˆï¼š
    ä»¥ğŸ€ï¸å››å¶è‰ç®€ä½“æ‹¼éŸ³ä¸ºåŸºç¡€æ‰€é…ç½®çš„ä¸€æ¬¾é€‚åˆåœ¨æ‰‹æœºæ ¼é“17å¸ƒå±€ä¸Šçš„è¾“å…¥æ–¹æ¡ˆã€‚
  dependencies:
    - emoji

switches:
  - name: ascii_mode
    reset: 0
    states: [ ä¸­, è‹± ]
  - name: full_shape
    states: [ åŠ, å…¨ ]
  - name: simplification
    states: [ ç®€, ç¹ ]
    reset: 0
  - name: ascii_punct
    states: [ ã€‚ï¼Œ, ï¼ï¼Œ ]

engine:
  processors:
    - ascii_composer
    - recognizer
    - key_binder
    - speller              # â€» æ‹¼å†™å¤„ç†å™¨ï¼Œæ¥å—å­—ç¬¦æŒ‰é”®ï¼Œç¼–è¾‘è¾“å…¥ç 
    - punctuator           # â€» å¥è¯»å¤„ç†å™¨ï¼Œå°†å•ä¸ªå­—ç¬¦æŒ‰é”®ç›´æ¥æ˜ å°„ä¸ºæ–‡å­—ç¬¦å·
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - table_translator@custom_phrase
    - reverse_lookup_translator
    - script_translator
  filters:
    - simplifier
    - uniquifier

speller:
  alphabet: zyxwvutsrqponmlkjihgfedcba1234567890    # å®šä¹‰æœ¬æ–¹æ¡ˆè¾“å…¥é”®
  delimiter: " '"
  algebra:                                          # æ‹¼å¯«é‹ç®—è¦å‰‡ï¼Œç”±ä¹‹ç®—å‡ºçš„æ‹¼å¯«åŒ¯å…¥prismä¸­
    # - "xlit|12345|+_*^0|"
    - erase/^xx$/
    # - abbrev/^([zcs]h).+$/$1/
    # - derive/^([nl])ve$/$1ue/
    # - derive/^([jqxy])u/$1v/
    # - derive/un$/uen/
    # - derive/ui$/uei/
    # - derive/iu$/iou/
    # - derive/([aeiou])ng$/$1gn/
    # - derive/([dtngkhrzcs])o(u|ng)$/$1o/
    # - derive/ong$/on/
    # - derive/ao$/oa/
    # - derive/([iu])a(o|ng?)$/a$1$2/
    # - xlit/abcdefghijklmnopqrstuvwxyz/22233344455566677778889999/
    # - derive/[+_*^0]//
    # - derive/([+_*^0])$//
    # - derive/^(.*)$/\U$1/
    - xform/^zh/1/            # æ›¿æ›è²æ¯éµï¼Œç”¨å¤§å¯«ä»¥é˜²èˆ‡åŸæœ‰çš„å­—æ¯æ··æ·†
    - xform/^sh/2/
    - xform/^ch/3/
    - xform/^z|^f/4/
    - xform/^s|^w/5/
    - xform/^m|^c/6/
    - xform/^l/7/
    - xform/^d/8/
    - xform/^y/9/
    - xform/^h|^n/q/
    - xform/^j/w/
    - xform/^t|^r/e/
    - xform/^p|^k/r/
    - xform/^q|ian$|uang$/t/    # æ­¤å¤„è¿˜æœ‰ä¸€ä¸ª ~ åé¢è¡¥å……
    - xform/^g/y/
    - xform/^b/u/
    - xform/^x/i/
    # - xform/ei$/r/            # æ›¿æ›éŸ»æ¯éµ
    - xform/en$|iang$/1/        # å°æ‡‰å…©ç¨®éŸ»æ¯çš„ï¼›éŸ³ç¯€erç¾åœ¨è®Šçˆ²ORäº†
    - xform/eng$|ie$/2/
    - xform/a$|ia$/3/
    - xform/ang$|ua$|er$/4/
    - xform/an$/5/
    - xform/uan$|v$|o$/6/
    - xform/ue$|ai$/7/
    - xform/u$/8/
    - xform/uo$|ing$/9/
    - xform/e$/q/
    - xform/i$/w/
    - xform/iu$|ong$/e/
    - xform/uai$|un$|ei$/r/
    # - xform/ian$|uang$/t/
    - xform/ui$|in$/y/
    - xform/iao$|ou$/u/
    # æœ€å¾ŒæŠŠé›™æ‹¼ç¢¼å…¨éƒ¨æ”¹å†™
    # - "xlit/1/zh/"
    # - xlit/2/sh/
    # - xlit/3/ch/
    # - xlit/4/fz/
    # - xlit/789/ldy/  
    # xform --æ”¹å¯«ã€”ä¸ä¿ç•™åŸå½¢ã€•
    # derive --è¡ç”Ÿã€”ä¿ç•™åŸå½¢ã€•
    # abbrev --ç°¡æ‹¼ã€”å‡ºå­—å„ªå…ˆç´šè¼ƒä¸Šå…©çµ„æ›´ä½ã€•
    # fuzz --ç•§æ‹¼ã€”æ­¤ç¨®ç°¡æ‹¼åƒ…çµ„è©ï¼Œä¸å‡ºå–®å­—ã€•
    # xlit --è®Šæ›ã€”é©åˆå¤§é‡ä¸€å°ä¸€è®Šæ›ã€•
    # erase --åˆªé™¤

translator:
  dictionary: clover    # èˆ‡ã€å››å¶è‰ã€‘å…±ç”¨è©å…¸
  prism: gedao
  spelling_hints: 16 # ï½å­—ä»¥å…§å€™é¸æ¨™è¨»å®Œæ•´å¸¶èª¿æ‹¼éŸ³
  enable_sentence: true               
  enable_user_dict: true               
  enable_encoder: true                 
  encode_commit_history: true          
  max_phrase_length: 10     
  user_dict: user                                                      
  db_class: tabledb                     
  disable_user_dict_for_patterns:       
    - "^z.*$"
  preedit_format:
    # - xform/([nl])v/$1Ã¼/
    # - xform/([nl])ue/$1Ã¼e/
    # - xform/([jqxy])v/$1u/
    # - xform/eh/Ãª/
    - derive/^t([1234567qr])$/$1/
    - xform/([q7wti])1/$1iang/
    - xform/(\w)1/$1en/
    - xform/(\w)2/$1eng/
    - xform/(\w)2/$1ie/
    - xform/(\w)3/$1a/
    - xform/(\w)3/$1ia/
    - xform/(\w)4/$1ang/
    - xform/(\w)4/$1ua/
    - xform/(\w)4/$1er/
    - xform/(\w)5/$1an/
    - xform/(\w)6/$1uan/
    - xform/([q7])6/$1Ã¼/ 
    - xform/(\w)6/$1o/
    - xform/(\w)7/$1ue/
    - xform/(\w)7/$1ai/
    - xform/(\w)8/$1u/
    - xform/(\w)9/$1uo/
    - xform/(\w)9/$1ing/
    - xform/(\w)q/$1e/
    - xform/^([123456qru])/$1/
    - xform/(\w)w/$1i/
    - xform/([8eq7wti])e/$1iu/    # å°æ‡‰å¤šç¨®éŸ»æ¯çš„é›™æ‹¼ç¢¼ï¼ŒæŒ‰æ­é…çš„è²æ¯åšå€åˆ†ï¼ˆæœ€å¥½åˆ¥ç”¨æ’é™¤å¼å¦‚ [^o]r å®¹æ˜“å‡ºç‹€æ³ï¼‰
    - xform/(\w)e/$1ong/
    - xform/([yrq123])r/$1uai/
    - xform/(\w)r/$1un/
    - xform/(\w)c/$1ei/
    - xform/(\w)t/$1uang/
    - xform/(\w)t/$1ian/
    - xform/(\w)y/$1ui/
    - xform/(\w)y/$1in/
    - xform/([wti])u/$1iong/
    - xform/(\w)u/$1ao/
    - xform/(\w)i/$1iao/
    - xform/(\w)i/$1ou/
    - "xform/(^|[ '])1/$1zh/"  # å¾©åŸè²æ¯ï¼ŒéŸ³ç¯€é–‹å§‹è™•çš„é›™æ‹¼å­—æ¯aæ”¹å¯«çˆ²zhï¼›å…¶ä»–ä½ç½®çš„æ‰çœŸæ­£æ˜¯a
    - "xform/(^|[ '])2/$1sh/"
    - "xform/(^|[ '])3/$1ch/"
    - "xform/(^|[ '])4/$1z/"
    - "xform/(^|[ '])4/$1f/"
    - "xform/(^|[ '])5/$1s/"
    - "xform/(^|[ '])5/$1w/"
    - "xform/(^|[ '])6/$1c/"
    - "xform/(^|[ '])6/$1m/"
    - "xform/(^|[ '])7/$1l/"
    - "xform/(^|[ '])8/$1d/"
    - "xform/(^|[ '])9/$1y/"
    - "xform/(^|[ '])q/$1n/"
    - "xform/(^|[ '])q/$1h/"
    - "xform/(^|[ '])w/$1j/"
    - "xform/(^|[ '])e/$1t/"
    - "xform/(^|[ '])e/$1r/"
    - "xform/(^|[ '])r/$1p/"
    - "xform/(^|[ '])r/$1k/"
    - "xform/(^|[ '])t/$1q/"
    - "xform/(^|[ '])y/$1g/"
    - "xform/(^|[ '])u/$1b/"
    - "xform/(^|[ '])i/$1x/"
    # - xform/(^|[ '])4/$1zf/
    # - xform/0(\w)/$1/          # å¥½äº†ï¼Œç¾åœ¨å¯ä»¥æŠŠé›¶è²æ¯æ‹¿æ‰å•¦
    # - xform/([q7])6/$1Ã¼/       # é€™æ¨£çº”æ˜¯æ¼¢èªæ‹¼éŸ³ :-)
    # - xform/([jqxy])v/$1u/


custom_phrase:
  dictionary: ""
  user_dict: custom_phrase
  db_class: stabledb
  enable_completion: false
  enable_sentence: false
  initial_quality: 1

reverse_lookup:
  dictionary: stroke
  enable_completion: true
  prefix: "`"
  suffix: "'"
  tips: ã€”ç¬”ç”»ã€•
  preedit_format:
    - "xlit|v|Ã¼|"
    - xform/iÃ¼/iv/
    - xform/uÃ¼/uv/

           # â€» å¥è¯»å¤„ç†å™¨ï¼Œå°†å•ä¸ªå­—ç¬¦æŒ‰é”®ç›´æ¥æ˜ å°„ä¸ºæ–‡å­—ç¬¦å·:
  import_preset: symbols

key_binder:
  import_preset: default

recognizer:
  import_preset: default
  patterns:
    punct: "^/([0-9]0?|[a-z]+)$"
    reverse_lookup: "`[a-z]*'?$"