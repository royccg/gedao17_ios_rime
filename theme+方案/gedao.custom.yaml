patch:
  switches/@next 0:
    name: symbol_support
    reset: 0
    states: [ "æ— ç¬¦", "ç¬¦" ]
  switches/@next 1:
    name: emoji_suggestion
    reset: 1
    states: [ ğŸ˜‘ï¸, ğŸ˜ï¸ ]
  'engine/filters/@before 0':
    simplifier@symbol_support
  'engine/filters/@before 1':
    simplifier@emoji_suggestion
  
  emoji_suggestion:
    opencc_config: emoji.json
    option_name: emoji_suggestion
    tips: all
  # symbol_support
  symbol_support:
    opencc_config: symbol.json
    option_name: symbol_support
    tips: all

  'speller/algebra/':      #"speller/algebra/+":  è¡¥åœ¨åé¢ æ²¡æœ‰ç”¨
    - erase/^xx$/
    - derive/^([jqxy])u$/$1v/    # å¤„ç† v å’Œ u

    # æ¨¡ç³ŠéŸ³ï¼Œç®€æ‹¼ä¼šç ´ååŒæ‹¼çš„ç¾æ„Ÿ
    - abbrev/^([az]).+$/$1/ #ç®€æ‹¼ï¼ˆé¦–å­—æ¯ï¼‰
    - abbrev/^([zcs]h).+$/$1/ #ç®€æ‹¼ï¼ˆzh, ch, shï¼‰
    # - derive/^([zcs])h/$1/ # zh, ch, sh => z, c, s
    # - derive/^([zcs])([^h])/$1h$2/ # z, c, s => zh, ch, sh
    # - derive/^r/l/  # r => l
    # - derive/^l/r/  # l => r
    # - derive/^n/l/  # n => l
    # - derive/^l/n/  # l => n
    - derive/([aei])n$/$1ng/ # en => eng, in => ing, an => ang
    - derive/([aei])ng$/$1n/ # eng => en, ing => in, ang => an
    - derive/([iu])an$/$lang/ # ian => iang, uan => uang
    - derive/([iu])ang$/$lan/ # iang => ian, uang => uan
    - derive/ong$/on/

    - xform/^zh/1/            # æ›¿æ¢å£°æ¯é”®
    - xform/^sh/2/
    - xform/^ch/3/
    - xform/^z|^f/4/
    - xform/^s|^w/5/
    - xform/^m|^c/6/
    - xform/^h|^n/7/
    - xform/^t|^r/8/
    - xform/^p|^k/9/
    # æ‰‹å†™ å•éŸµæ¯çš„
    - xform/^en$/q1/
    # - xform/^eng$/q2/
    - xform/^a$/q3/
    - xform/^ang$|^er$/q4/
    - xform/^an$/q5/
    - xform/^o$/q6/
    - xform/^ai$/qL/
    - xform/^e$/q7/
    - xform/^ei$/q9/
    - xform/^ao$/qb/
    - xform/^ou$/qx/
    - xform/iao$|ou$/X/
    - xform/ao$|iong$/B/             # ao åœ¨iaoä¹‹å
    - xform/uo$|ing/Y/
    - xform/uai$|un$|ei$/9/     # uai åœ¨ ai å‰é¢
    - xform/ui$|in$/G/          
    - xform/uang$|ian$/Q/       # ian åœ¨ an å‰é¢
    - xform/uan$|v$|o$/6/       # uan åœ¨ an å‰é¢  oåœ¨[\w]o ä¹‹å‰
    - xform/en$|iang$/1/        # å°æ‡‰å…©ç¨®éŸ»æ¯çš„ï¼›éŸ³ç¯€erç¾åœ¨è®Šçˆ²ORäº†
    - xform/eng$|ie$/2/
    - xform/ang$|ua$/4/     # [iu]ang åœ¨ ang å‰é¢
    - xform/an$/5/              # [iu]an åœ¨ an å‰é¢
    - xform/a$|ia$/3/
    - xform/iu$|ong$/8/
    - xform/ai$|ue$/L/
    - xform/e$/7/               # e è¦åœ¨æ‰€æœ‰çš„ [\w]e åé¢
    - xform/u$/D/
    - xform/i$/J/
    # æœ€å¾ŒæŠŠé›™æ‹¼ç¢¼å…¨éƒ¨æ”¹å†™
    - xlit/QWERTYOPASDFGHJKLZXCVBNM/qwertyopasdfghjklzxcvbnm/